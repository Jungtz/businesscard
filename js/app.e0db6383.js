(function(e){function t(t){for(var r,c,i=t[0],d=t[1],l=t[2],u=0,m=[];u<i.length;u++)c=i[u],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&m.push(s[c][0]),s[c]=0;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(e[r]=d[r]);o&&o(t);while(m.length)m.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,i=1;i<a.length;i++){var d=a[i];0!==s[d]&&(r=!1)}r&&(n.splice(t--,1),e=c(c.s=a[0]))}return e}var r={},s={app:0},n=[];function c(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=r,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(a,r,function(t){return e[t]}.bind(null,r));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var o=d;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"30be":function(e,t,a){"use strict";a("d411")},4798:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var r=a("2b0e"),s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[e._v(" https://github.com/muhammed/interactive-card/tree/main "),t("div",[t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.cardHolder,expression:"cardHolder"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.cardHolder)?e._i(e.cardHolder,null)>-1:e.cardHolder},on:{change:function(t){var a=e.cardHolder,r=t.target,s=!!r.checked;if(Array.isArray(a)){var n=null,c=e._i(a,n);r.checked?c<0&&(e.cardHolder=a.concat([n])):c>-1&&(e.cardHolder=a.slice(0,c).concat(a.slice(c+1)))}else e.cardHolder=s}}}),e._v(" 顯示持卡人 ")]),t("br"),t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.lang,expression:"lang"}],attrs:{type:"radio",name:"lang",value:"tw"},domProps:{checked:e._q(e.lang,"tw")},on:{change:function(t){e.lang="tw"}}}),e._v(" tw ")]),t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.lang,expression:"lang"}],attrs:{type:"radio",name:"lang",value:"en"},domProps:{checked:e._q(e.lang,"en")},on:{change:function(t){e.lang="en"}}}),e._v(" en ")])]),t("CreditCard",{attrs:{card:e.data,lang:e.lang,"card-holder":e.cardHolder}}),t("hr"),e._v(" "+e._s(e.data)+" ")],1)},n=[],c=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper",attrs:{id:"app"}},[t("div",{staticClass:"card-form"},[t("div",{staticClass:"card-list"},[t("div",{staticClass:"card-item",class:{"-active":e.isCardFlipped}},[t("div",{staticClass:"card-item__side -front"},[t("div",{ref:"focusElement",staticClass:"card-item__focus",class:{"-active":e.focusElementStyle},style:e.focusElementStyle}),t("div",{staticClass:"card-item__cover"},[e.currentCardBackground?t("img",{staticClass:"card-item__bg",attrs:{src:e.currentCardBackground}}):e._e()]),t("div",{staticClass:"card-item__wrapper"},[t("div",{staticClass:"card-item__top"},[t("img",{staticClass:"card-item__chip",attrs:{src:a("966e")}}),t("div",{staticClass:"card-item__type",class:[e.getCardType]})]),t("label",{ref:"cardNumber",staticClass:"card-item__number",attrs:{for:"cardNumber"}},["amex"===e.getCardType?e._l(e.amexCardMask,(function(a,r){return t("span",{key:r},[t("transition",{attrs:{name:"slide-fade-up"}},[r>4&&r<14&&e.card.number.length>r&&""!==a.trim()?t("div",{staticClass:"card-item__numberItem"},[e._v("*")]):e.card.number.length>r?t("div",{key:r,staticClass:"card-item__numberItem",class:{"-active":""===a.trim()}},[e._v(" "+e._s(e.card.number[r])+" ")]):t("div",{key:r+1,staticClass:"card-item__numberItem",class:{"-active":""===a.trim()}},[e._v(e._s(a))])])],1)})):e._l("dinersclub14"===e.getCardType?e.dinersclub14CardMask:e.otherCardMask,(function(a,r){return t("span",{key:r},[t("transition",{attrs:{name:"slide-fade-up"}},[r>4&&r<15&&e.card.number.length>r&&""!==a.trim()?t("div",{staticClass:"card-item__numberItem"},[e._v("*")]):e.card.number.length>r?t("div",{key:r,staticClass:"card-item__numberItem",class:{"-active":""===a.trim()}},[e._v(" "+e._s(e.card.number[r])+" ")]):t("div",{key:r+1,staticClass:"card-item__numberItem",class:{"-active":""===a.trim()}},[e._v(e._s(a))])])],1)}))],2),t("div",{staticClass:"card-item__content"},[e.cardHolder?t("label",{ref:"cardName",staticClass:"card-item__info",attrs:{for:"cardName"}},[t("div",{staticClass:"card-item__holder"},[e._v(e._s(e.Dict.card_holder))]),t("transition",{attrs:{name:"slide-fade-up"}},[e.card.name.length?t("div",{key:"1",staticClass:"card-item__name"},[t("transition-group",{attrs:{name:"slide-fade-right"}},[e._l(e.card.name.replace(/\s\s+/g," "),(function(a,r){return[r===r?t("span",{key:r+1,staticClass:"card-item__nameItem"},[e._v(e._s(a))]):e._e()]}))],2)],1):t("div",{key:"2",staticClass:"card-item__name"},[e._v("＊＊＊＊＊")])])],1):e._e(),t("div",{ref:"cardDate",staticClass:"card-item__date"},[t("label",{staticClass:"card-item__dateTitle",attrs:{for:"cardMonth"}},[e._v(e._s(e.Dict.expires))]),t("label",{staticClass:"card-item__dateItem",attrs:{for:"cardMonth"}},[t("transition",{attrs:{name:"slide-fade-up"}},[e.card.month?t("span",{key:e.card.month},[e._v(e._s(e.card.month))]):t("span",{key:"2"},[e._v("MM")])])],1),e._v(" / "),t("label",{staticClass:"card-item__dateItem",attrs:{for:"cardYear"}},[t("transition",{attrs:{name:"slide-fade-up"}},[e.card.year?t("span",{key:e.card.year},[e._v(e._s(String(e.card.year).slice(2,4)))]):t("span",{key:"2"},[e._v("YY")])])],1)])])])]),t("div",{staticClass:"card-item__side -back"},[t("div",{staticClass:"card-item__cover"},[e.currentCardBackground?t("img",{staticClass:"card-item__bg",attrs:{src:e.currentCardBackground}}):e._e()]),t("div",{staticClass:"card-item__band"}),t("div",{staticClass:"card-item__cvv"},[t("div",{staticClass:"card-item__cvvTitle"},[e._v(" "+e._s(e.Dict.cvv)+" ")]),t("div",{staticClass:"card-item__cvvBand"},e._l(e.card.cvv,(function(a,r){return t("span",{key:r},[e._v("*")])})),0),t("div",{staticClass:"card-item__type",class:[e.getCardType]})])])])]),t("div",[e._t("note")],2),t("div",{staticClass:"card-form__inner"},[t("div",{staticClass:"card-input"},[t("label",{staticClass:"card-input__label",attrs:{for:"cardNumber"}},[e._v(e._s(e.Dict.card_number))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.card.number,expression:"card.number"},{name:"mask",rawName:"v-mask",value:e.generateCardNumberMask,expression:"generateCardNumberMask"}],staticClass:"card-input__input",attrs:{id:"cardNumber",type:"text","data-ref":"cardNumber",autocomplete:"off"},domProps:{value:e.card.number},on:{focus:e.focusInput,blur:e.blurInput,input:function(t){t.target.composing||e.$set(e.card,"number",t.target.value)}}})]),e.cardHolder?t("div",{staticClass:"card-input"},[t("label",{staticClass:"card-input__label",attrs:{for:"cardName"}},[e._v(e._s(e.Dict.card_holder))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.card.name,expression:"card.name"}],staticClass:"card-input__input",attrs:{id:"cardName",type:"text","data-ref":"cardName",autocomplete:"off"},domProps:{value:e.card.name},on:{focus:e.focusInput,blur:e.blurInput,input:function(t){t.target.composing||e.$set(e.card,"name",t.target.value)}}})]):e._e(),t("div",{staticClass:"card-form__row"},[t("div",{staticClass:"card-form__col"},[t("div",{staticClass:"card-form__group"},[t("label",{staticClass:"card-input__label",attrs:{for:"cardMonth"}},[e._v(e._s(e.Dict.expires))]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.card.month,expression:"card.month"}],staticClass:"card-input__input -select",attrs:{id:"cardMonth","data-ref":"cardDate"},on:{focus:e.focusInput,blur:e.blurInput,change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.card,"month",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(" "+e._s(e.Dict.month)+" ")]),e._l(12,(function(a){return t("option",{key:a,attrs:{disabled:a<e.minCardMonth},domProps:{value:e.parseOptionItem(a)}},[e._v(" "+e._s(e.parseOptionItem(a))+" ")])}))],2),t("select",{directives:[{name:"model",rawName:"v-model",value:e.card.year,expression:"card.year"}],staticClass:"card-input__input -select",attrs:{id:"cardYear","data-ref":"cardDate"},on:{focus:e.focusInput,blur:e.blurInput,change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.card,"year",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(" "+e._s(e.Dict.year)+" ")]),e._l(12,(function(a,r){return t("option",{key:a,domProps:{value:r+e.minCardYear}},[e._v(" "+e._s(r+e.minCardYear)+" ")])}))],2)])]),t("div",{staticClass:"card-form__col -cvv"},[t("div",{staticClass:"card-input"},[t("label",{staticClass:"card-input__label",attrs:{for:"cardCvv"}},[e._v(e._s(e.Dict.cvv))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.card.cvv,expression:"card.cvv"},{name:"mask",rawName:"v-mask",value:"amex"===e.getCardType?"####":"###",expression:"getCardType==='amex'?'####':'###'"}],staticClass:"card-input__input",attrs:{id:"cardCvv",type:"text",maxlength:"amex"===e.getCardType?4:3,autocomplete:"off"},domProps:{value:e.card.cvv},on:{focus:function(t){return e.flipCard(!0)},blur:function(t){return e.flipCard(!1)},input:function(t){t.target.composing||e.$set(e.card,"cvv",t.target.value)}}})])])])])])])},i=[],d=(a("5b81"),a("14d9"),{name:"Creditcard",directives:{mask:{inserted(e,t,a,r){let s=e;function n(e){let t=[];const a=["#","A","N"],{type:r,input:s,mask:n}=e;if(["deleteContentBackward","deleteContentForward"].includes(r)||!n)return window.backup_maskInput=s.split(""),s;const c=n.match(/^\/([\S\s]*)\/$/),i=c&&new RegExp(n)instanceof RegExp;if(i){const e=n.slice(1,-1),a=(""+s).match(new RegExp(e,"g"));a?(t=a,window.backup_maskInput=a):t=window.backup_maskInput||[]}else{const e=(""+s).replaceAll(/\W/g,""),r=n.split(""),c=n.replaceAll(/[^#|^A|^N]/g,"").length;let i="";i=e.length<=c?e:e.substring(0,c);let d=0;i.split("").forEach((e,s)=>{const n=r[s+d];a.includes(n)||(d+=1,t.push(n)),t.push(e)})}return t.join("")}["INPUT","TEXTAREA"].includes(s.nodeName)||(s=e.querySelector("input")||e.querySelector("textarea")),s&&(s.addEventListener("input",e=>{const r=n({type:e.inputType,input:e.target.value,mask:t.value});e.target.value=r;const s=[...a.context.value];a.context.dataResult=s}),s.addEventListener("blur",e=>{e.target.value=e.target.value.trim();const r=n({type:e.inputType,input:e.target.value,mask:t.value});e.target.value=r,delete window.backup_maskInput;const s=[...a.context.value];a.context.dataResult=s}))}}},props:{lang:{type:String,default:"tw"},dict:{type:Object,default(){return{tw:{card_holder:"持卡人姓名",expires:"期限",card_number:"信用卡卡號",cvv:"檢查碼 (CVV)",year:"西元年",month:"月"},en:{card_holder:"Card Holder",expires:"Expiration Date",card_number:"Card Number",cvv:"CVV",year:"Year",month:"Month"}}}},cardHolder:{type:Boolean,default(){return!0}},card:{type:Object,default(){return{name:"",number:"",month:"",year:"",cvv:"",type:""}}}},data(){return{currentCardBackground:"",minCardYear:(new Date).getFullYear(),amexCardMask:"#### ###### #####",dinersclub14CardMask:"#### #### #### ##",otherCardMask:"#### #### #### ####",cardNumberTemp:"",isCardFlipped:!1,focusElementStyle:null,isInputFocused:!1}},computed:{Dict(){return this.dict[this.lang]},getCardType(){const e=this.card.number.replace(/\s/g,""),t=[{name:"Amex Card",key:"amex",reg:"^3[47][0-9]{0,13}"},{name:"Diners Club Card",key:"dinersclub",reg:"^3(?:0[0-5]|[68][0-9])[0-9]{12}"},{name:"Diners Club Card (14 digit card)",key:"dinersclub14",reg:"^3(?:0[0-5]|[68][0-9])[0-9]{0,11}"},{name:"JCB Card",key:"jcb",reg:"^(?:2131|1800|35\\d{3})\\d{11}"},{name:"Discover Card",key:"discover",reg:"^65[4-9][0-9]{13}|64[4-9][0-9]{13}|6011[0-9]{12}|(622(?:12[6-9]|1[3-9][0-9]|[2-8][0-9][0-9]|9[01][0-9]|92[0-5])[0-9]{10})"},{name:"Mastercard",key:"mastercard",reg:"^(5[1-5][0-9]{14}|2(22[1-9][0-9]{12}|2[3-9][0-9]{13}|[3-6][0-9]{14}|7[0-1][0-9]{13}|720[0-9]{12}))"},{name:"Union Pay",key:"unionpay",reg:"^(62[0-9]{14,17})"},{name:"Visa Card",key:"visa",reg:"^4[0-9]{12}(?:[0-9]{3})"}];let a="";for(const r in t){const s=t[r],n=new RegExp(s.reg);if(null!=e.match(n)){a=s.key;break}}return a},generateCardNumberMask(){switch(this.getCardType){case"amex":return this.amexCardMask;case"dinersclub14":return this.dinersclub14CardMask;default:return this.otherCardMask}},minCardMonth(){return this.card.year===this.minCardYear?(new Date).getMonth()+1:1}},watch:{"card.year":function(){this.card.month<this.minCardMonth&&(this.card.month="")},"card.number":function(){this.card.type=this.getCardType}},mounted(){this.cardNumberTemp=this.otherCardMask,document.getElementById("cardNumber").focus()},methods:{parseOptionItem(e){return e<10?"0"+e:e},flipCard(e){this.isCardFlipped=e},focusInput(e){this.isInputFocused=!0;const t=e.target.dataset.ref,a=this.$refs[t];this.focusElementStyle={width:a.offsetWidth+"px",height:a.offsetHeight+"px",transform:`translateX(${a.offsetLeft}px) translateY(${a.offsetTop}px)`}},blurInput(){const e=this;setTimeout(()=>{e.isInputFocused||(e.focusElementStyle=null)},300),e.isInputFocused=!1}}}),l=d,o=(a("30be"),a("2877")),u=Object(o["a"])(l,c,i,!1,null,"db6e2ff8",null),m=u.exports,p={name:"App",components:{CreditCard:m},data(){return{cardHolder:!0,lang:"tw",data:{name:"",number:"",month:"",year:"",cvv:"",type:""}}},computed:{},mounted(){},methods:{}},v=p,_=(a("b820"),Object(o["a"])(v,s,n,!1,null,"47fc2c71",null)),f=_.exports,g=(a("becf"),a("f9e3"),a("2dd8"),a("5f5b"));a("77ed");r["default"].use(g["a"]),r["default"].config.productionTip=!1,new r["default"]({render:e=>e(f)}).$mount("#app"),r["default"].prototype.$clone=function(e){return JSON.parse(JSON.stringify(e))}},"966e":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAtCAYAAADydghMAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxEAAAsRAX9kX5EAAAJmSURBVGhD7Zo/SFVRHMfvS9OKxFx0kKASLAoyLIc2M3AKAhMaHIIaImgrMHB3CHGKhiCKVsUcpKlBcFCIBmtoKKgh0Ar7QyEG1evzvfceeT3u0jkHfR7PBz6cP8Ljfd99z3t+59xSuVxOKtiLndicjrY+n/ANrqUjqAw8iLfxYDoKA4V7iddxThMm8DmcwF34B3+jLTuwDvXCvzSxidRjCb/gGVxMCNyAz1HM4gHUvK03Ucxj0d83Sl3M4/gKxSSWdDVa8BiKYXyXdbc8+oa9wNF0lCSncLcC67I3agY+5G1ImEzKWKfA24oYOHRi4NCJgUNHq5F22vfZMLmMrvfiAbyCC3haE5aokOnFQ+hyYY7gVVzGzurAPnEJ3I2P8ChqLeyDwsAr6FI4iD2oq2MbuA2f4X78ga/RpQhRqauSNw2sRXY7Gg5jo6O3UNgWDzdQrGAXphWdg/0olrCp+rfx04OuJeHJvH2Mi7hesPugFv9LN+Tt97z1SrwPh04MHDoxcOjEwKGz7QJXFw/38FvWtaYHVdbZFg+TeAF1EnJHE47o/YxhzZaHJrBvCgM/xdWsa00H6iTDNbBO/Fzfi9iJTVhYHrqeK0nXsyWdAYm7uM+DAygKy8NaQqXmVw9qE2GdeFsKnRg4dGLg0DGBzc6gHkYJDZMpzajAWs181gDO5m0o6NSiL+umz2ytaWmpyQd4CbU1eh/fou1+sD6086iHY8Y18Z/ofOsEzuKUJixRLr3OEGrrdwRHFZg2acUnaDbBQ2MGL+KqCSx0BnMN+/N+CHzEaXyIWqr+8+hhJb5O7DabqnBJ8heR6Nc6TMmTYQAAAABJRU5ErkJggg=="},b820:function(e,t,a){"use strict";a("4798")},d411:function(e,t,a){}});
//# sourceMappingURL=app.e0db6383.js.map